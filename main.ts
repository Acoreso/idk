namespace SpriteKind {
    export const Entity = SpriteKind.create()
    export const Entity2 = SpriteKind.create()
    export const F_Entity = SpriteKind.create()
    export const E_Projectile = SpriteKind.create()
}
function EntityShoot (FamEntity: Sprite) {
    ShootInterval = randint(700, 1000)
    GameTime = game.runtime()
    if (GameTime - PreviousShot > ShootInterval) {
        if (Transform == 0) {
            ShotRepeat = 1
        } else {
            ShotRepeat = 3
        }
        for (let index = 0; index < ShotRepeat; index++) {
            PreviousShot = GameTime
            ShotSpeed = randint(55, 80)
            EntityProjectile = sprites.create(E_ProjectileList._pickRandom(), SpriteKind.E_Projectile)
            EntityProjectile.setVelocity(ShotSpeed, 0)
            EntityProjectile.setPosition(FamiliarEntity.x, FamiliarEntity.y)
            ShotAngle = Math.atan2(Eli.y - FamEntity.y, Eli.x - FamEntity.x)
            EntityProjectile.setVelocity(ShotSpeed * Math.cos(ShotAngle), ShotSpeed * Math.sin(ShotAngle))
        }
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Entity2, function (sprite, otherSprite) {
    tiles.setCurrentTilemap(tilemap`level23`)
    game.splash("Press Spacebar to melee attack")
    game.splash("Press X to make an explosion (2 second cooldown)")
    sprites.destroy(otherSprite, effects.ashes, 100)
    tiles.setCurrentTilemap(tilemap`level7`)
    FamiliarEntity = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . e e e e e e . . . . . 
        . . . . e e e e e e e e . . . . 
        . . . e e e e e e e e e e . . . 
        . . . e e e d d d d e e e . . . 
        . . . e d b f d d f b d e . . . 
        . . e e d 1 f d d f 1 d e e . . 
        . . e e d d d d d d d d e e . . 
        . e e f d d d d d d d d f e e . 
        . e 8 8 f 8 8 8 8 8 8 f 8 8 e . 
        . . 8 8 f 8 8 8 8 8 8 f 8 8 . . 
        . . 8 8 f 8 8 8 8 8 8 f 8 8 . . 
        . . d d . f f f f f f . d d . . 
        . . . . . f f . . f f . . . . . 
        `, SpriteKind.F_Entity)
    tiles.placeOnTile(FamiliarEntity, tiles.getTileLocation(7, 3))
    tiles.placeOnTile(Eli, tiles.getTileLocation(7, 6))
    controller.moveSprite(Eli, 1, 1)
    timer.after(3500, function () {
        animation.runImageAnimation(
        FamiliarEntity,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . e e e e e e . . . . . 
            . . . . e e e e e e e e . . . . 
            . . . e e e e e e e e e e . . . 
            . . . e e e d d d d e e e . . . 
            . . . e d b f d d f b d e . . . 
            . . e e d 1 f d d f 1 d e e . . 
            . . e e d d d d d d d d e e . . 
            . e e e d d d d d d d d e e e . 
            . e 8 8 f 8 8 8 8 8 8 f 8 8 e . 
            . . 8 8 f 8 8 8 8 8 8 f 8 8 . . 
            . . 8 8 f 8 8 8 8 8 8 f 8 8 . . 
            . . d d . f f f f f f . d d . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . e e e e e e . . . . . 
            . . . . e e e e e e e e . . . . 
            . . . e e e e e e e e e e . . . 
            . . . e e e d d d d e e e . . . 
            . . . e d 1 1 d d 1 1 d e . . . 
            . . e e d 1 1 d d 1 1 d e e . . 
            . . e e d 2 d d d d 2 d e e . . 
            . e e e d d d d d d d d e e e . 
            . e 8 8 f 8 8 8 8 8 8 f 8 8 e . 
            . . 8 8 f 8 8 8 8 8 8 f 8 8 . . 
            . . 8 8 f 8 8 8 8 8 8 f 8 8 . . 
            . . d d . f f f f f f . d d . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . e e e e e e . . . . . 
            . . . . e e e e e e e e . . . . 
            . . . e e e e e e e e e e . . . 
            . . . e e e d d d d e e e . . . 
            . . . e d 1 1 d d 1 1 d e . . . 
            . . e e d 1 1 d d 1 1 d e e . . 
            . . e e d 2 d d d d 2 d e e . . 
            . e e e d 2 d d d d 2 d e e e . 
            . e f f f 8 8 8 8 8 8 f f f e . 
            . . f f f 8 8 8 8 8 8 f f f . . 
            . . f f f 8 8 8 8 8 8 f f f . . 
            . . f f . f f f f f f . f f . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . e e e e e e . . . . . 
            . . . . e e e e e e e e . . . . 
            . . . e e e e e e e e e e . . . 
            . . . e f f f f f f f f e . . . 
            . . . e f 1 1 f f 1 1 f e . . . 
            . . e e f 1 1 f f 1 1 f e e . . 
            . . e e f 2 f f f f 2 f e e . . 
            . e e e f 2 f f f f 2 f e e e . 
            . e f f f f f f f f f f f f e . 
            . . f f f f f f f f f f f f . . 
            . . f f f f f f f f f f f f . . 
            . . f f . f f f f f f . f f . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f f . . . . 
            . . . f f f f f f f f f f . . . 
            . . . f f f f f f f f f f . . . 
            . . . f f 1 1 f f 1 1 f f . . . 
            . . . f f 1 1 f f 1 1 f f . . . 
            . . . f f 2 f f f f 2 f f . . . 
            . . . . f 2 f f f f 2 f . . . . 
            . . f f f f f f f f f f f f . . 
            . . f f f f f f f f f f f f . . 
            . . f f f f f f f f f f f f . . 
            . . f f . f f f f f f . f f . . 
            . . . . . f f . . f f . . . . . 
            `],
        2000,
        false
        )
    })
    timer.after(12000, function () {
        FamiliarEntity.follow(Eli, 50)
    })
    timer.after(9000, function () {
        controller.moveSprite(Eli, 100, 100)
    })
    timer.after(15000, function () {
        CanShoot = 1
    })
    statusbar = statusbars.create(20, 4, StatusBarKind.Health)
    statusbar.value = 10000
    statusbar.attachToSprite(FamiliarEntity)
    for (let index = 0; index < 5; index++) {
        timer.after(3000, function () {
            E_ProjectileList.push(Future_Projectiles.removeAt(randint(0, Future_Projectiles.length - 1)))
        })
    }
    timer.after(500, function () {
        Eli.sayText("Who are you?")
        timer.after(2250, function () {
            Eli.sayText("Do you need help?")
            timer.after(2250, function () {
                Eli.sayText("Wait!")
                timer.after(1000, function () {
                    Eli.sayText("What is happening to you!?")
                })
                timer.after(6000, function () {
                    Eli.sayText("YOU DID THIS TO ME!")
                    timer.after(2000, function () {
                        Eli.sayText("TURN ME BACK TO NORMAL!")
                        timer.after(1000, function () {
                            FamiliarEntity.sayText("You have to defeat me!")
                            timer.after(1000, function () {
                                FamiliarEntity.sayText("hahahahhaha")
                                Eli.sayText("")
                                timer.after(1000, function () {
                                    FamiliarEntity.sayText("")
                                })
                            })
                        })
                    })
                })
            })
        })
    })
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (HumanMove == 1) {
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . . . f f f f . . . . . . 
            . . . . f f e e e e f f . . . . 
            . . . f e e e f f e e e f . . . 
            . . f f f f f 2 2 f f f f f . . 
            . . f f e 2 e 2 2 e 2 e f f . . 
            . . f e 2 f 2 f f 2 f 2 e f . . 
            . . f f f 2 2 e e 2 2 f f f . . 
            . f f e f 2 f e e f 2 f e f f . 
            . f e e f f e e e e f e e e f . 
            . . f e e e e e e e e e e f . . 
            . . . f e e e e e e e e f . . . 
            . . e 4 f f f f f f f f 4 e . . 
            . . 4 d f 2 2 2 2 2 2 f d 4 . . 
            . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
            . . . . . f f f f f f . . . . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . f f e e e e f f . . . . 
            . . . f e e e f f e e e f . . . 
            . . . f f f f 2 2 f f f f . . . 
            . . f f e 2 e 2 2 e 2 e f f . . 
            . . f e 2 f 2 f f f 2 f e f . . 
            . . f f f 2 f e e 2 2 f f f . . 
            . . f e 2 f f e e 2 f e e f . . 
            . f f e f f e e e f e e e f f . 
            . f f e e e e e e e e e e f f . 
            . . . f e e e e e e e e f . . . 
            . . . e f f f f f f f f 4 e . . 
            . . . 4 f 2 2 2 2 2 e d d 4 . . 
            . . . e f f f f f f e e 4 . . . 
            . . . . f f f . . . . . . . . . 
            `,img`
            . . . . . . f f f f . . . . . . 
            . . . . f f e e e e f f . . . . 
            . . . f e e e f f e e e f . . . 
            . . f f f f f 2 2 f f f f f . . 
            . . f f e 2 e 2 2 e 2 e f f . . 
            . . f e 2 f 2 f f 2 f 2 e f . . 
            . . f f f 2 2 e e 2 2 f f f . . 
            . f f e f 2 f e e f 2 f e f f . 
            . f e e f f e e e e f e e e f . 
            . . f e e e e e e e e e e f . . 
            . . . f e e e e e e e e f . . . 
            . . e 4 f f f f f f f f 4 e . . 
            . . 4 d f 2 2 2 2 2 2 f d 4 . . 
            . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
            . . . . . f f f f f f . . . . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . f f e e e e f f . . . . 
            . . . f e e e f f e e e f . . . 
            . . . f f f f 2 2 f f f f . . . 
            . . f f e 2 e 2 2 e 2 e f f . . 
            . . f e f 2 f f f 2 f 2 e f . . 
            . . f f f 2 2 e e f 2 f f f . . 
            . . f e e f 2 e e f f 2 e f . . 
            . f f e e e f e e e f f e f f . 
            . f f e e e e e e e e e e f f . 
            . . . f e e e e e e e e f . . . 
            . . e 4 f f f f f f f f e . . . 
            . . 4 d d e 2 2 2 2 2 f 4 . . . 
            . . . 4 e e f f f f f f e . . . 
            . . . . . . . . . f f f . . . . 
            `],
        100,
        true
        )
        Direction1 = 0
    }
    if (HumanMove == 2) {
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fdd111111ddf......
            ......fbd111111dbf......
            ......fcd111111dcf......
            .......fb111111bf.......
            .....bfbfcdb1bdfbfb.....
            ....fcb1bcbfbfcb1bcf....
            ....f11111ffff11111f....
            .....ffffffffffffff.....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fdd111111ddf......
            ......fbd111111dbf......
            ......fcd111111dcf......
            .......fb111111fbfb.....
            .....bfbfcdb1bcb1bcf....
            ....fcb1bcbfbf11111f....
            ....f11111ffffbffff.....
            .....ffffffffff.........
            .........fffff..........
            ..........fff...........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fdd111111ddf......
            ......fbd111111dbf......
            ......fcd111111dcf......
            .......fb111111bf.......
            .....bfbfcdb1bdfbfb.....
            ....fcb1bcbfbfcb1bcf....
            ....f11111ffff11111f....
            .....ffffffffffffff.....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fdd111111ddf......
            ......fbd111111dbf......
            ......fcd111111dcf......
            .....bfbf111111bf.......
            ....fcb1bcdb1bdfbfb.....
            ....f111bcbfbfcb1bcf....
            .....ffffbffff11111f....
            .........ffffffffff.....
            ..........fffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        true
        )
        Direction1 = 4
    }
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (ScratchAttack == 1) {
        if (can_attack2 == 0) {
            if (controller.down.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .....fffc111111cfff.............
                    ...fc111cd1111dc111cf...........
                    ...f1b1b1b1111b1b1b1f...........
                    ...fbfbffcf11fcdfbfbf...........
                    ...777f7f111111b7f777...........
                    ....777ccbdb1b1fc777............
                    ......7fffbfbfdff7..............
                    ........fffffffff...............
                    ........fffffffff...............
                    .........fffffff................
                    .........fffffff................
                    ..........fffff.................
                    ...........fff..................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f11111111f...............
                    ......fd11111111df..............
                    ...77.fd11111111df.77...........
                    ..77..fd11111111df..77..........
                    ..77..fd11111111df..77..........
                    ..77..fddd1111dddf..77..........
                    ..777.fbdbfddfbdbf.777..........
                    ..7777fcdcf11fcdcf7777..........
                    ...777fffbdb1bdfff777...........
                    ...7fcb1bcffffcb1bcf7...........
                    ...7f1c1c1ffff1c1c1f7...........
                    ...7fdfdfdffffdfdfdf7...........
                    ...77f7f7f7777f7f7f7............
                    ....77.7.77..77.7.7.............
                    ......................f.........
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    .....77...ffff....77............
                    ...7777.ff1111ff..7777..........
                    ..7777.fb111111bf..7777.........
                    ..777..f11111111f...777.........
                    .777..fd11111111df...777........
                    .777..fdd111111ddf...777........
                    .777..fbdd1111dddf...777........
                    .777..fcdbfddfbdbf...777........
                    .777...fbcf11fcbff...777........
                    .777...ffb1111bcf....777........
                    ..777...fcdb1bdf....777.........
                    ..777..fffffffffff..777.........
                    ..777fcb1bcfffcb1bcf777.........
                    ...77f1b1b1fff1b1b1f77..........
                    ....77ffbff777ffbff77...........
                    .....777777...777777............
                    .....777777...777777............
                    ......7.7.7...7.7.7.............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    .......777777777................
                    .....7777777777777..............
                    ....777777777777777.............
                    ...77777777777777777............
                    ..77777777ffff7777777...........
                    .7777777ff1111ff777777..........
                    .777777fb111111bf777777.........
                    7777777f11111111f777777.........
                    777777fd11111111df777777........
                    777777fdd111111ddf777777........
                    777777fbdd1111dddf777777........
                    777777fcdbfddfbdbf777777........
                    7777777fbcf11fcbff777777........
                    7777777ffb1111bcf7777777........
                    77777777fcdb1bdf7777777.........
                    7777777fffffffffff77777.........
                    .7777fcb1bcfffcb1bcf777.........
                    .7777f1b1b1fff1b1b1f77..........
                    ..7777ffbff777ffbff77...........
                    ...77777777777777777............
                    ....7777777777777777............
                    .....77777777777777.............
                    .......777777777................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f11111111f...............
                    ......fd11111111df..............
                    ......fdd111111ddf..............
                    ......fbdd1111dddf..............
                    ......fcdbfddfbdbf..............
                    .......fbcf11fcbff..............
                    .......ffb1111bcf...............
                    ........fcdb1bdf................
                    .......fffffffffff..............
                    .....fcb1bcfffcb1bcf............
                    .....f1b1b1fff1b1b1f............
                    ......ffbff...ffbff.............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `],
                100,
                false
                )
                can_attack2 = 1
                timer.after(250, function () {
                    can_attack2 = 2
                })
                timer.after(2000, function () {
                    can_attack2 = 0
                })
            }
            if (controller.up.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f11111111f...............
                    ......fd11111111df..............
                    ......fd11111111df..............
                    ......fdd111111ddf..............
                    ......fbd111111dbf..............
                    ......fcd111111dcf..............
                    .......fb111111bf...............
                    .....bfbfcdb1bdfbfb.............
                    ....fcb1bcbfbfcb1bcf............
                    ....f11111ffff11111f............
                    .....ffffffffffffff.............
                    .........ffffff.................
                    ..........ffff..................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f11111111f...............
                    ......fd11111111df..............
                    ......fd11111111df..............
                    ......fdd111111ddf..............
                    ......fbd111111dbf..............
                    ......fcd111111dcf..............
                    .....77fb111111bf77.............
                    ....7bfbfcdb1bdfbfb7............
                    ...7fcb1bcbfbfcb1bcf7...........
                    ...7f11111ffff11111f7...........
                    ....7ffffffffffffff7............
                    .....7777ffffff7777.............
                    ..........ffff..................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    .........777777.................
                    .......777ffff777...............
                    ......77ff1111ff77..............
                    ......7fb111111bf7..............
                    .....77f11111111f77.............
                    .....7fd11111111df7.............
                    .....7fd11111111df7.............
                    .....7fdd111111ddf7.............
                    .....7fbd111111dbf7.............
                    .....7fcd111111dcf7.............
                    ....777fb111111bf777............
                    ...77bfbfcdb1bdfbfb77...........
                    ..77fcb1bcbfbfcb1bcf77..........
                    ..77f11111ffff11111f77..........
                    ...77ffffffffffffff777..........
                    ....77777ffffff77777............
                    .....77777ffff77777.............
                    ........77777777................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ........777777777...............
                    ......7777777777777.............
                    .....777777777777777............
                    ....777777ffff7777777...........
                    ...77777ff1111ff777777..........
                    ...7777fb111111bf77777..........
                    ..77777f11111111f777777.........
                    ..7777fd11111111df77777.........
                    ..7777fd11111111df77777.........
                    ..7777fdd111111ddf77777.........
                    ..7777fbd111111dbf77777.........
                    ..7777fcd111111dcf77777.........
                    ..77777fb111111bf777777.........
                    ..777bfbfcdb1bdfbfb7777.........
                    ..77fcb1bcbfbfcb1bcf777.........
                    ..77f11111ffff11111f77..........
                    ...77ffffffffffffff777..........
                    ....77777ffffff777777...........
                    .....77777ffff777777............
                    ......7777777777777.............
                    ........777777777...............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f11111111f...............
                    ......fd11111111df..............
                    ......fd11111111df..............
                    ......fdd111111ddf..............
                    ......fbd111111dbf..............
                    ......fcd111111dcf..............
                    .......fb111111bf...............
                    .....bfbfcdb1bdfbfb.............
                    ....fcb1bcbfbfcb1bcf............
                    ....f11111ffff11111f............
                    .....ffffffffffffff.............
                    .........ffffff.................
                    ..........ffff..................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `],
                100,
                false
                )
                can_attack2 = 1
                timer.after(250, function () {
                    can_attack2 = 2
                })
                timer.after(2000, function () {
                    can_attack2 = 0
                })
            }
            if (controller.left.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f1111111df...............
                    ......fd1111111ddf..............
                    ......fd111111dddf..............
                    ......fd111ddddddf..............
                    ......fd1dfbddddbf..............
                    ......fbddfcdbbbcf..............
                    .......f11111bbcf...............
                    .......f1b1fffff................
                    .......fbfc111bf................
                    ........ff1b1bff................
                    .........fbfbfff.f..............
                    ..........ffffffff..............
                    ............fffff...............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f1111111df...............
                    ......fd1111111ddf..............
                    ......fd111111dddf..............
                    ......fd111ddddddf..............
                    ......fd1dfbddddbf..............
                    ......fbddfcdbbbcf..............
                    .......f11111bbcf...............
                    .......f1b1fff7f................
                    .......fbfc111b7................
                    ........ff1b1b7f................
                    .........7b7b7ff.f..............
                    ..........777fffff..............
                    ............fffff...............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    .........777777.................
                    .......777ffff777...............
                    ......77ff1111ff77..............
                    ......7fb111111bf7..............
                    .....77f1111111df77.............
                    .....7fd1111111ddf7.............
                    .....7fd111111dddf7.............
                    .....7fd111ddddddf7.............
                    .....7fd1dfbddddbf7.............
                    .....7fbddfcdbbbcf7.............
                    .....77f11111bbcf77.............
                    ......7f1b1fff7f7...............
                    ......7fbfc111b77...............
                    .......7ff1b1b777...............
                    ........77b7b77f7f7.............
                    ..........7777ffff7.............
                    ...........7fffff77.............
                    ............77777...............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ........777777777...............
                    ......7777777777777.............
                    .....77777ffff777777............
                    ....7777ff1111ff77777...........
                    ...7777fb111111bf77777..........
                    ...7777f1111111df77777..........
                    ..7777fd1111111ddf77777.........
                    ..7777fd111111dddf77777.........
                    ..7777fd111ddddddf77777.........
                    ..7777fd1dfbddddbf77777.........
                    ..7777fbddfcdbbbcf77777.........
                    ..77777f11111bbcf777777.........
                    ..77777f1b1fffff7777777.........
                    ..77777fbfc111bf7777777.........
                    ..777777ff1b1bfff777777.........
                    ...777777fbfbfffff7777..........
                    ...7777777ffffffff7777..........
                    ....77777777fffff7777...........
                    .....777777777777777............
                    ......7777777777777.............
                    ........777777777...............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..........ffff..................
                    ........ff1111ff................
                    .......fb111111bf...............
                    .......f1111111df...............
                    ......fd1111111ddf..............
                    ......fd111111dddf..............
                    ......fd111ddddddf..............
                    ......fd1dfbddddbf..............
                    ......fbddfcdbbbcf..............
                    .......f11111bbcf...............
                    .......f1b1fffff................
                    .......fbfc111bf................
                    ........ff1b1bfff...............
                    .........fbfbfffff..............
                    ..........ffffffff..............
                    ............fffff...............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `],
                100,
                false
                )
                can_attack2 = 1
                timer.after(250, function () {
                    can_attack2 = 2
                })
                timer.after(2000, function () {
                    can_attack2 = 0
                })
            }
            if (controller.right.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..................ffff..........
                    ................ff1111ff........
                    ...............fb111111bf.......
                    ...............fd1111111f.......
                    ..............fdd1111111df......
                    ..............fddd111111df......
                    ..............fdddddd111df......
                    ..............fbddddbfd1df......
                    ..............fcbbbdcfddbf......
                    ...............fcbb11111f.......
                    ................fffff1b1f.......
                    ................fb111cfbf.......
                    ................ffb1b1ff........
                    ..............f.fffbfbf.........
                    ..............ffffffff..........
                    ...............fffff............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..................ffff..........
                    ................ff1111ff........
                    ...............fb111111bf.......
                    ...............fd1111111f.......
                    ..............fdd1111111df......
                    ..............fddd111111df......
                    ..............fdddddd111df......
                    ..............fbddddbfd1df......
                    ..............fcbbbdcfddbf......
                    ...............fcbb11111f.......
                    ................f7fff1b1f.......
                    ................7b111cfbf.......
                    ................f7b1b1ff........
                    ..............f.ff7b7b7.........
                    ..............fffff777..........
                    ...............fffff............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    .................777777.........
                    ...............777ffff777.......
                    ..............77ff1111ff77......
                    ..............7fb111111bf7......
                    .............77fd1111111f77.....
                    .............7fdd1111111df7.....
                    .............7fddd111111df7.....
                    .............7fdddddd111df7.....
                    .............7fbddddbfd1df7.....
                    .............7fcbbbdcfddbf7.....
                    .............77fcbb11111f77.....
                    ...............7f7fff1b1f7......
                    ...............77b111cfbf7......
                    ...............777b1b1ff7.......
                    .............7f7f77b7b77........
                    .............7ffff7777..........
                    .............77fffff7...........
                    ...............77777............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ...............777777777........
                    .............7777777777777......
                    ............777777ffff77777.....
                    ...........77777ff1111ff7777....
                    ..........77777fb111111bf7777...
                    ..........77777fd1111111f7777...
                    .........77777fdd1111111df7777..
                    .........77777fddd111111df7777..
                    .........77777fdddddd111df7777..
                    .........77777fbddddbfd1df7777..
                    .........77777fcbbbdcfddbf7777..
                    .........777777fcbb11111f77777..
                    .........7777777fffff1b1f77777..
                    .........7777777fb111cfbf77777..
                    .........777777fffb1b1ff777777..
                    ..........7777fffffbfbf777777...
                    ..........7777ffffffff7777777...
                    ...........7777fffff77777777....
                    ............777777777777777.....
                    .............7777777777777......
                    ...............777777777........
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `,img`
                    ................................
                    ................................
                    ................................
                    ................................
                    ..................ffff..........
                    ................ff1111ff........
                    ...............fb111111bf.......
                    ...............fd1111111f.......
                    ..............fdd1111111df......
                    ..............fddd111111df......
                    ..............fdddddd111df......
                    ..............fbddddbfd1df......
                    ..............fcbbbdcfddbf......
                    ...............fcbb11111f.......
                    ................fffff1b1f.......
                    ................fb111cfbf.......
                    ...............fffb1b1ff........
                    ..............fffffbfbf.........
                    ..............ffffffff..........
                    ...............fffff............
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    ................................
                    `],
                100,
                false
                )
                can_attack2 = 1
                timer.after(250, function () {
                    can_attack2 = 2
                })
                timer.after(2000, function () {
                    can_attack2 = 0
                })
            }
        }
    }
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Percentage, 50, function (status) {
    if (Transform == 0) {
        Transform = 1
        animation.runImageAnimation(
        FamiliarEntity,
        [img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........ffffffff........
            .......ffffffffff.......
            .......ffffffffff.......
            .......ff11ff11ff.......
            .......ff11ff11ff.......
            .......ff2ffff2ff.......
            ........f2ffff2f........
            ......ffffffffffff......
            ......ffffffffffff......
            ......ffffffffffff......
            ......ff.ffffff.ff......
            .........ff..ff.........
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........ffffffff........
            .......ffffffffff.......
            .......ffffffffff.......
            .......ff11ff11ff.......
            .......ff11ff11ff.......
            .......ff2ffff2ff.......
            ........f2ffff2f........
            .fffffff2f2fff2ffffffff.
            .fffffffff2ff2fffffffff.
            .fff.....ffffff.....fff.
            .........ffffff.........
            .........ff..ff.........
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........ffffffff........
            .......ffffffffff.......
            .......ffffffffff.......
            .......ff11ff11ff.......
            .......ff11ff11ff.......
            .......ff2ffff2ff.......
            ........f2ffff2f........
            .fffffff22ffff2ffffffff.
            .fffffff22fff222fffffff.
            .fff...2.22ff2f2....fff.
            .........2fffff.........
            .........ffffff.........
            ........ffffffff........
            ........fff..fff........
            ........fff..fff........
            .......ffff..ffff.......
            .....fffff....fffff.....
            .....fffff....fffff.....
            `,img`
            ........................
            .........ffffff.........
            ........ffffffff........
            ........f11ff11f........
            ........f11ff11f........
            ........f22ff22f........
            ........f2ffff2f........
            .........2ffff2.........
            ....fffff2ffff2fffff....
            ...fffff22fff22ffffff...
            ..fffff2f2fff22fffffff..
            .ffffff2f22f2f22fffffff.
            .fffff..f22f2f2f2.fffff.
            .ffff...f2ffff2f...ffff.
            .fff....f2ffffff....fff.
            .ffff...f2ffffff...ffff.
            .fffff...ffffff...fffff.
            .fffff...ffffff...fffff.
            .fffff..ffffffff..fffff.
            ..ffff..fff..fff..ffff..
            ........fff..fff........
            .......ffff..ffff.......
            .....fffff....fffff.....
            .....fffff....fffff.....
            `],
        2000,
        false
        )
        FamiliarEntity.follow(Eli, 0)
        timer.after(5000, function () {
            animation.runImageAnimation(
            FamiliarEntity,
            [img`
                ........................
                .........ffffff.........
                ........ffffffff........
                ........f11ff11f........
                ........f11ff11f........
                ........f22ff22f........
                ........f2ffff2f........
                .........2ffff2.........
                ....fffff2ffff2fffff....
                ...fffff22fff22ffffff...
                ..fffff2f2fff22fffffff..
                .ffffff2f22f2f22fffffff.
                .fffff.ff22f2f2f2.fffff.
                .ffff...f2ffff2f...ffff.
                .fff....f2ffffff....fff.
                .ffff...f2ffffff...ffff.
                .fffff...ffffff...fffff.
                .fffff...ffffff...fffff.
                .fffff..ffffffff..fffff.
                ..ffff..fff..fff..ffff..
                ........fff..fff........
                .......ffff..ffff.......
                .....fffff....fffff.....
                .....fffff....fffff.....
                `,img`
                ........................
                .........ffffff.........
                ........ffffffff........
                ........f11ff11f........
                ........f11ff11f........
                ........f22ff22f........
                ........f2ffff2f........
                .........2ffff2.........
                ....fffff2fff22fffff....
                ..f22ffff22fff22fffff...
                .ffff2ff22ffff222fffff..
                ffffff22f2fff22f2ffffff.
                ffffff.ff22f222f2.fffff.
                ffffff..f2ffff2f...ffff.
                ffffff..22fff2f2....fff.
                .ffff..2ff2ff2ff...ffff.
                .........ffffff...fffff.
                .........ffffffff.fffff.
                ........fffffffff.fffff.
                ........fff..ffff.ffff..
                ........fff..fff........
                .......ffff..ff.........
                .....fffff..............
                .....fffff..............
                `,img`
                ........................
                .........ffffff.........
                ........ffffffff........
                ........f11ff11f........
                ........f11ff11f........
                ........f22ff22f........
                ........f2ffff2f........
                .........2ffff2.........
                ....fffff2ffff2fffff....
                ...ffffff22fff22fffff...
                ..fffffff222ff222fffff..
                .fffffff22f2ff2f22fffff.
                .fffff.f22f2ff2f2.fffff.
                .ffff..222f2ff2f...ffff.
                .fff..22f2fff2f2....fff.
                .ffff...f2fff2ff...ffff.
                .fffff...ffffff...fffff.
                .fffff...ffffff...fffff.
                .fffff..ffffffff..fffff.
                ..ffff..fff..fff..ffff..
                ........fff..fff........
                .......ffff..ffff.......
                .....fffff....fffff.....
                .....fffff....fffff.....
                `,img`
                ........................
                .........ffffff.........
                ........ffffffff........
                ........f11ff11f........
                ........f11ff11f........
                ........f22ff22f........
                ........f2ffff2f........
                .........2ffff2.........
                ....fffff22fff2fffff....
                ...fffff22fff22ffff22f..
                ..fffff222ffff22ff2ffff.
                .ffffff2f22fff2f22ffffff
                .fffff.2f222f22ff.ffffff
                .ffff...f2ffff2f..ffffff
                .fff....2f2fff22..ffffff
                .ffff...ff2ff2ff2..ffff.
                .fffff...ffffff.........
                .fffff.ffffffff.........
                .fffff.fffffffff........
                ..ffff.ffff..fff........
                ........fff..fff........
                .........ff..ffff.......
                ..............fffff.....
                ..............fffff.....
                `],
            200,
            true
            )
            statusbar.value = 5000
            FamiliarEntity.follow(Eli, 70)
            tiles.setCurrentTilemap(tilemap`level20`)
        })
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (ScratchAttack == 1) {
        if (can_attack == 0) {
            if (controller.down.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........ffff..........
                    ........ff1111ff........
                    .......fb111111bf.......
                    .....fffc1111111f.......
                    ...fc111cd1111111f......
                    ...f1b1b1b1111dddf......
                    ...fbfbffcf11fcddf......
                    ......fcf111111bbf......
                    .......ccbdb1b1fcf......
                    .......fffbfbfdff.......
                    ........ffffffff........
                    ........fffffffffff.....
                    .........fffffc111cf....
                    .........fffff1b1b1f....
                    ..........ffffbfbfbf....
                    ...........ffff.........
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........ffff..........
                    ........ff1111ff........
                    .......fb111111bf.......
                    .......f11111111f.......
                    ......fd11111111df......
                    ...44.fd11111111df......
                    ..44..fd11111111df......
                    ..44..fd11111111df......
                    ..44..fddd1111dddff.....
                    ..444.fbdbfddfbdbfcf....
                    ..4444fcdcf11fcdcfbf....
                    ...444fffbdb1bdffcf.....
                    ....fcb1bcffffff........
                    ....f1c1c1ffffff........
                    ....fdfdfdfffff.........
                    .....f.f.f..............
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........ffff..........
                    ........ff1111ff........
                    .......fb111111bf.......
                    .......f11111111f.......
                    ......fd111111111f......
                    ......fd11111111df......
                    ...44.fd11111111df......
                    ..444.fcdd1111ddcff.....
                    ..44...fbcf11fcbfbbf....
                    ..44...ffbdb1bdffff.....
                    ..444...fcbfbfdf........
                    ..4444..ffffffff........
                    ...444ffffffffff........
                    .....fcb1bcffff.........
                    ......ffbff.............
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........ffff..........
                    ........ff1111ff........
                    .......fb111111bf.......
                    .......f11111111f.......
                    ......fd11111111df......
                    ......fdd111111ddf......
                    ......fbdd1111dddf......
                    ......fcdbfddfbdbf......
                    .......fbcf11fcbfff.....
                    .......ffb1111bcfbcf....
                    ........fcdb1bdfbbbf....
                    .......ffffffffffcf.....
                    .....fcb1bcfffff........
                    .....f1b1b1ffff.........
                    ......ffbff.............
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    `],
                100,
                false
                )
                can_attack = 1
                timer.after(400, function () {
                    can_attack = 0
                })
            }
            if (controller.up.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    .........ffffff.........
                    .......ff111111ff.......
                    .......f11111111f.......
                    ......fd11111111df......
                    ......fd11111111df......
                    ......fdd111111ddf......
                    ......fbd111111dbf......
                    ......fcd111111dcf......
                    .......fb111111bfcbb....
                    ......cbfcdb1bdfcb1f....
                    .....bc1bcbfbfcb111f....
                    ....f11111ffff111ff.....
                    ....f11ffffffffff.......
                    .....ff..ffffff.........
                    ...........fff..........
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    .........ffffff.........
                    .......ff111111ff.......
                    .......f11111111f.......
                    ......f1111111111f......
                    ......f111111111df...44.
                    ......fdd111111ddf..4444
                    ......fbd111111dbf.44444
                    ......fcd111111dcf4444..
                    .......fb111111bfcb44...
                    ......cbfcdb1bdfcb1f....
                    .....bc1bcbfbfcb111f....
                    ....f11111ffff111ff.....
                    ....f11ffffffffff.......
                    .....ff.ffffff..........
                    ..........ff............
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ...........4444.........
                    ............4444........
                    ..............44........
                    .........ffffff44.......
                    .......ff111111ff.......
                    .......f11111111f.......
                    ......f1111111111f......
                    ......f111111111df......
                    ......fdd111111ddf......
                    ......fbdd1111ddbf......
                    ......fcdd1111ddcf......
                    .......fbd1111dbf4......
                    ......cbfcdb1bdfcf......
                    .....bc1bcbfbfcb1f......
                    ....f11111ffff11f.......
                    ....f11fffffffff........
                    .....ff..ffffff.........
                    ...........fff..........
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ...4444.................
                    ..444444ffffffff........
                    ..4...4fb111111bf.......
                    ......4f11111111f.......
                    ......f1111111111f......
                    ......fd11111111df......
                    ......fdd111111ddf......
                    ......fbd111111dbf......
                    ......fcd111111dcf......
                    .......fb111111bfb......
                    ......cbfcdb1bdfcc......
                    .....bc1bcbfbfcb1f......
                    ....f11111ffff11f.......
                    ....f11fffffffff........
                    .....ff..ffffff.........
                    ...........fff..........
                    ........................
                    ........................
                    ........................
                    ........................
                    `],
                100,
                false
                )
                can_attack = 1
                timer.after(400, function () {
                    can_attack = 0
                })
            }
            if (controller.left.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........ffff..........
                    ........ff1111ff........
                    .......fb111111bf.......
                    .......f1111111df.......
                    ......fd1111111ddf......
                    ......fd111111dddf......
                    ......fd111ddddddf......
                    ......fd1dfbddddbf......
                    ......fbddfcdbbbcf......
                    .......f11111bbcf.......
                    .......f1b1fffff........
                    .......fbfc111bf........
                    ........ff1b1bff........
                    .........fbfbfff.f......
                    ..........ffffffff......
                    ............fffff.......
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    .........fffff..........
                    ........f11111ff........
                    ..4....fb111111bf.......
                    .444...f1111111dbf......
                    .4444.fd111111dddf......
                    .4444.fd11111ddddf......
                    ..4444fd11dddddddf......
                    ...444f111dddddddf......
                    ...444f11fcddddddf......
                    ....4fb1111bdddbf.......
                    ....4f1b1bdfcfff........
                    .....fbfbffffffff.......
                    ......fffffffffff.ff....
                    ...........ffffffff.....
                    ........f1b1bffffff.....
                    ........fbfbffffff......
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    .....444.fffffff........
                    ....444.f111111ff.......
                    ...444.f1111111dbf......
                    ..444.fd1111111ddf......
                    ..444.fd1111111ddf......
                    .4444.fdbc1111dddf......
                    .444..f1ff111ddddf......
                    .444..f1111ddddddf......
                    .44....ffc1bdddbf.......
                    .44cfb..fbdfcfff........
                    ..f1b1bffffffffff.......
                    ..cb1bff..fffffff.ff....
                    ...fff.....ffffffff.....
                    ........f1b1bffffff.....
                    ........fbfbffffff......
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    .........fffffff........
                    ........f111111ff.......
                    .......f1111111dbf......
                    ......fd1111111ddf......
                    ......fd1111111ddf......
                    ......fdbc1111dddf......
                    ......f1ff111ddddf......
                    ......f1111ddddddf......
                    .......ffc1bdddbf.......
                    ........fbdfcfff........
                    ...ccf.ffffffffff.......
                    ..b1b1cf..fffffff.ff....
                    ..fb1bf....ffffffff.....
                    ...fff..f1b1bffffff.....
                    ........fbfbffffff......
                    ........................
                    ........................
                    ........................
                    ........................
                    `],
                100,
                false
                )
                can_attack = 1
                timer.after(400, function () {
                    can_attack = 0
                })
            }
            if (controller.right.isPressed()) {
                animation.runImageAnimation(
                Eli,
                [img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........ffff..........
                    ........ff1111ff........
                    .......fb111111bf.......
                    .......fd1111111f.......
                    ......fdd1111111df......
                    ......fddd111111df......
                    ......fdddddd111df......
                    ......fbddddbfd1df......
                    ......fcbbbdcfddbf......
                    .......fcbb11111f.......
                    ........fffff1b1f.......
                    ........fb111cfbf.......
                    ........ffb1b1ff........
                    ......f.fffbfbf.........
                    ......ffffffff..........
                    .......fffff............
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ..........fffff.........
                    ........ff11111f........
                    .......fb111111bf....4..
                    ......fbd1111111f...444.
                    ......fddd111111df.4444.
                    ......fdddd11111df.4444.
                    ......fddddd1cf1df4444..
                    ......fddddddbf11f444...
                    ......fdddddd1111f444...
                    .......fbdddb1fffbf4....
                    ........fffcfff1b1f4....
                    .......ffffffffbfbf.....
                    ....ff.fffffffffff......
                    .....ffffffff...........
                    .....ffffffb1b1f........
                    ......ffffffbfbf........
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    ........fffffff.444.....
                    .......ff111111f.444....
                    ......fbd1111111f.444...
                    ......fdd1111111df.444..
                    ......fdd1111111df.444..
                    ......fddd1111cbdf.4444.
                    ......fdddd111ff1f..444.
                    ......fdddddd1111f..444.
                    .......fbdddb1cff....44.
                    ........fffcfdbf..bfc44.
                    .......ffffffffffb1b1f..
                    ....ff.fffffff..ffb1bc..
                    .....ffffffff.....fff...
                    .....ffffffb1b1f........
                    ......ffffffbfbf........
                    ........................
                    ........................
                    ........................
                    ........................
                    `,img`
                    ........................
                    ........................
                    ........................
                    ........................
                    ........................
                    ........fffffff.........
                    .......ff111111f........
                    ......fbd1111111f.......
                    ......fdd1111111df......
                    ......fdd1111111df......
                    ......fddd1111cbdf......
                    ......fdddd111ff1f......
                    ......fdddddd1111f......
                    .......fbdddb1cff.......
                    ........fffcfdbf........
                    .......ffffffffff.fcc...
                    ....ff.fffffff..fc1b1b..
                    .....ffffffff....fb1bf..
                    .....ffffffb1b1f..fff...
                    ......ffffffbfbf........
                    ........................
                    ........................
                    ........................
                    ........................
                    `],
                100,
                false
                )
                can_attack = 1
                timer.after(400, function () {
                    can_attack = 0
                })
            }
        }
    }
})
scene.onHitWall(SpriteKind.E_Projectile, function (sprite, location) {
    animation.runImageAnimation(
    sprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . 2 1 2 . . . . . . 
        . . . . . . . 2 1 2 . . . . . . 
        . . . . . . . 2 1 2 . . . . . . 
        . . . . . . . 3 1 3 . . . . . . 
        . . . . . . 2 3 1 3 2 . . . . . 
        . . . . . . 2 1 1 1 2 . . . . . 
        . . . . . . 2 1 1 1 3 . . . . . 
        . . . . . . 3 1 1 1 3 . . . . . 
        . . . . . . 3 1 1 1 3 . . . . . 
        . . . . . . 3 1 1 1 3 . . . . . 
        . . . . . . 2 3 1 3 2 . . . . . 
        . . . . . . . 2 2 2 . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 2 3 3 3 3 3 2 . . . . 
        . . . . 3 1 1 1 1 1 1 1 3 . . . 
        . . . . 1 1 1 1 1 1 1 1 1 . . . 
        . . . 2 1 1 1 1 1 1 1 1 1 2 . . 
        . . . 2 3 1 1 1 1 1 1 3 3 2 . . 
        . . . . . . 2 2 2 2 2 . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 4 4 4 4 4 . . . . . . 
        . . . 4 4 4 5 5 5 d 4 4 4 4 . . 
        . . 4 d 5 d 5 5 5 d d d 4 4 . . 
        . . 4 5 5 1 1 1 d d 5 5 5 4 . . 
        . 4 5 5 5 1 1 1 5 1 1 5 5 4 4 . 
        . 4 d d 1 1 5 5 5 1 1 5 5 d 4 . 
        . 4 5 5 1 1 5 1 1 5 5 d d d 4 . 
        . 2 5 5 5 d 1 1 1 5 1 1 5 5 2 . 
        . 2 d 5 5 d 1 1 1 5 1 1 5 5 2 . 
        . . 2 4 d d 5 5 5 5 d d 5 4 . . 
        . . . 2 2 4 d 5 5 d d 4 4 . . . 
        . . 2 2 2 2 2 4 4 4 2 2 2 . . . 
        . . . 2 2 4 4 4 4 4 4 2 2 . . . 
        . . . . . 2 2 2 2 2 2 . . . . . 
        `,img`
        . . . . 2 2 2 2 2 2 2 2 . . . . 
        . . . 2 4 4 4 5 5 4 4 4 2 2 2 . 
        . 2 2 5 5 d 4 5 5 5 4 4 4 4 2 . 
        . 2 4 5 5 5 5 d 5 5 5 4 5 4 2 2 
        . 2 4 d d 5 5 5 5 5 5 d 4 4 4 2 
        2 4 5 5 d 5 5 5 d d d 5 5 5 4 4 
        2 4 5 5 4 4 4 d 5 5 d 5 5 5 4 4 
        4 4 4 4 . . 2 4 5 5 . . 4 4 4 4 
        . . b b b b 2 4 4 2 b b b b . . 
        . b d d d d 2 4 4 2 d d d d b . 
        b d d b b b 2 4 4 2 b b b d d b 
        b d d b b b b b b b b b b d d b 
        b b d 1 1 3 1 1 d 1 d 1 1 d b b 
        . . b b d d 1 1 3 d d 1 b b . . 
        . . 2 2 4 4 4 4 4 4 4 4 2 2 . . 
        . . . 2 2 4 4 4 4 4 2 2 2 . . . 
        `,img`
        . . . . . . . . b b . . . . . . 
        . . . . . . . . b b . . . . . . 
        . . . b b b . . . . . . . . . . 
        . . b d d b . . . . . . . b b . 
        . b d d d b . . . . . . b d d b 
        . b d d b . . . . b b . b d d b 
        . b b b . . . . . b b . . b b . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . b b b d d d d d d b b b . . 
        . b d c c c b b b b c c d d b . 
        b d d c b . . . . . b c c d d b 
        c d d b b . . . . . . b c d d c 
        c b d d d b b . . . . b d d c c 
        . c c b d d d d b . c c c c c c 
        . . . c c c c c c . . . . . . . 
        `],
    100,
    false
    )
    timer.after(400, function () {
        sprites.destroy(sprite, effects.ashes, 100)
    })
})
function Animation () {
    moving = controller.left.isPressed() || (controller.up.isPressed() || (controller.right.isPressed() || controller.down.isPressed()))
    if (!(moving) && Direction1 == 0 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . . . f f f f . . . . . . 
            . . . . f f e e e e f f . . . . 
            . . . f e e e f f e e e f . . . 
            . . f f f f f 2 2 f f f f f . . 
            . . f f e 2 e 2 2 e 2 e f f . . 
            . . f e 2 f 2 f f 2 f 2 e f . . 
            . . f f f 2 2 e e 2 2 f f f . . 
            . f f e f 2 f e e f 2 f e f f . 
            . f e e f f e e e e f e e e f . 
            . . f e e e e e e e e e e f . . 
            . . . f e e e e e e e e f . . . 
            . . e 4 f f f f f f f f 4 e . . 
            . . 4 d f 2 2 2 2 2 2 f d 4 . . 
            . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
            . . . . . f f f f f f . . . . . 
            . . . . . f f . . f f . . . . . 
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 1 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . . . f f f f . . . . . . 
            . . . . f f f 2 2 f f f . . . . 
            . . . f f f 2 2 2 2 f f f . . . 
            . . f f f e e e e e e f f f . . 
            . . f f e 2 2 2 2 2 2 e e f . . 
            . . f e 2 f f f f f f 2 e f . . 
            . . f f f f e e e e f f f f . . 
            . f f e f b f 4 4 f b f e f f . 
            . f e e 4 1 f d d f 1 4 e e f . 
            . . f e d d d d d d d d e f . . 
            . . . f f d d d d d d f f . . . 
            . . e 4 f 2 2 2 2 2 2 f 4 e . . 
            . . 4 d f 2 2 2 2 2 2 f d 4 . . 
            . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
            . . . . . f f f f f f . . . . . 
            . . . . . f f . . f f . . . . . 
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 2 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . f f f f f f . . . . . . 
            . . . f 2 f e e e e f f . . . . 
            . . f 2 2 2 f e e e e f f . . . 
            . . f e e e e f f e e e f . . . 
            . f e 2 2 2 2 e e f f f f . . . 
            . f 2 e f f f f 2 2 2 e f . . . 
            . f f f e e e f f f f f f f . . 
            . f e e 4 4 f b e 4 4 e f f . . 
            . . f e d d f 1 4 d 4 e e f . . 
            . . . f d d d d 4 e e e f . . . 
            . . . f e 4 4 4 e e f f . . . . 
            . . . f 2 2 2 e d d 4 . . . . . 
            . . . f 2 2 2 e d d e . . . . . 
            . . . f 5 5 4 f e e f . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . . . . f f f . . . . . . . 
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 3 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 2 f . . . 
            . . . f f e e e e f 2 2 2 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 2 2 2 2 e f . 
            . . . f e 2 2 2 f f f f e 2 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 4 4 e b f 4 4 e e f . 
            . . f e e 4 d 4 1 f d d e f . . 
            . . . f e e e 4 d d d d f . . . 
            . . . . f f e e 4 4 4 e f . . . 
            . . . . . 4 d d e 2 2 2 f . . . 
            . . . . . e d d e 2 2 2 f . . . 
            . . . . . f e e f 4 5 5 f . . . 
            . . . . . . f f f f f f . . . . 
            . . . . . . . f f f . . . . . . 
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 4 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fdd111111ddf......
            ......fbd111111dbf......
            ......fcd111111dcf......
            .......fb111111bf.......
            .....bfbfcdb1bdfbfb.....
            ....fcb1bcbfbfcb1bcf....
            ....f11111ffff11111f....
            .....ffffffffffffff.....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 5 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .......fb111111bf.......
            ......fffcdb1bdffff.....
            ....fc111cbfbfc111cf....
            ....f1b1b1ffff1b1b1f....
            ....fbfbffffffbfbfbf....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 6 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f1111111df.......
            ......fd1111111ddf......
            ......fd111111dddf......
            ......fd111ddddddf......
            ......fd1dfbddddbf......
            ......fbddfcdbbbcf......
            .......f11111bbcf.......
            .......f1b1fffff........
            .......fbfc111bf........
            ........ff1b1bff........
            .........fbfbfff.f......
            ..........ffffffff......
            ............fffff.......
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        false
        )
    }
    if (!(moving) && Direction1 == 7 && HumanMove != 3) {
        animation.stopAnimation(animation.AnimationTypes.All, Eli)
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........fffff.........
            ........ff11111f........
            .......fb111111bf.......
            ......fbd1111111f.......
            ......fddd111111df......
            ......fdddd11111df......
            ......fddddddd11df......
            ......fddddddd111f......
            ......fddddddcf11f......
            .......fbdddb1111bf.....
            ........fffcfdb1b1f.....
            .......ffffffffbfbf.....
            ....ff.fffffffffff......
            .....ffffffff...........
            .....ffffffb1b1f........
            ......ffffffbfbf........
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        false
        )
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (HumanMove == 1) {
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . f f f f f f . . . . . . 
            . . . f 2 f e e e e f f . . . . 
            . . f 2 2 2 f e e e e f f . . . 
            . . f e e e e f f e e e f . . . 
            . f e 2 2 2 2 e e f f f f . . . 
            . f 2 e f f f f 2 2 2 e f . . . 
            . f f f e e e f f f f f f f . . 
            . f e e 4 4 f b e 4 4 e f f . . 
            . . f e d d f 1 4 d 4 e e f . . 
            . . . f d d d d 4 e e e f . . . 
            . . . f e 4 4 4 e e f f . . . . 
            . . . f 2 2 2 e d d 4 . . . . . 
            . . . f 2 2 2 e d d e . . . . . 
            . . . f 5 5 4 f e e f . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . . . . f f f . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . f 2 f e e e e f f . . . . 
            . . f 2 2 2 f e e e e f f . . . 
            . . f e e e e f f e e e f . . . 
            . f e 2 2 2 2 e e f f f f . . . 
            . f 2 e f f f f 2 2 2 e f . . . 
            . f f f e e e f f f f f f f . . 
            . f e e 4 4 f b e 4 4 e f f . . 
            . . f e d d f 1 4 d 4 e e f . . 
            . . . f d d d e e e e e f . . . 
            . . . f e 4 e d d 4 f . . . . . 
            . . . f 2 2 e d d e f . . . . . 
            . . f f 5 5 f e e f f f . . . . 
            . . f f f f f f f f f f . . . . 
            . . . f f f . . . f f . . . . . 
            `,img`
            . . . . f f f f f f . . . . . . 
            . . . f 2 f e e e e f f . . . . 
            . . f 2 2 2 f e e e e f f . . . 
            . . f e e e e f f e e e f . . . 
            . f e 2 2 2 2 e e f f f f . . . 
            . f 2 e f f f f 2 2 2 e f . . . 
            . f f f e e e f f f f f f f . . 
            . f e e 4 4 f b e 4 4 e f f . . 
            . . f e d d f 1 4 d 4 e e f . . 
            . . . f d d d d 4 e e e f . . . 
            . . . f e 4 4 4 e e f f . . . . 
            . . . f 2 2 2 e d d 4 . . . . . 
            . . . f 2 2 2 e d d e . . . . . 
            . . . f 5 5 4 f e e f . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . . . . f f f . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . f 2 f e e e e f f . . . . 
            . . f 2 2 2 f e e e e f f . . . 
            . . f e e e e f f e e e f . . . 
            . f e 2 2 2 2 e e f f f f . . . 
            . f 2 e f f f f 2 2 2 e f . . . 
            . f f f e e e f f f f f f f . . 
            . f e e 4 4 f b e 4 4 e f f . . 
            . . f e d d f 1 4 d 4 e e f . . 
            . . . f d d d d 4 e e e f . . . 
            . . . f e 4 4 4 e d d 4 . . . . 
            . . . f 2 2 2 2 e d d e . . . . 
            . . f f 5 5 4 4 f e e f . . . . 
            . . f f f f f f f f f f . . . . 
            . . . f f f . . . f f . . . . . 
            `],
        100,
        true
        )
        Direction1 = 2
    }
    if (HumanMove == 2) {
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f1111111df.......
            ......fd1111111ddf......
            ......fd111111dddf......
            ......fd111ddddddf......
            ......fd1dfbddddbf......
            ......fbddfcdbbbcf......
            .......f11111bbcf.......
            .......f1b1fffff........
            .......fbfc111bf........
            ........ff1b1bff........
            .........fbfbfff.f......
            ..........ffffffff......
            ............fffff.......
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            .........fffff..........
            ........f11111ff........
            .......fb111111bf.......
            .......f1111111dbf......
            ......fd111111dddf......
            ......fd11111ddddf......
            ......fd11dddddddf......
            ......f111dddddddf......
            ......f11fcddddddf......
            .....fb1111bdddbf.......
            .....f1b1bdfcfff........
            .....fbfbffffffff.......
            ......fffffffffff.ff....
            ...........ffffffff.....
            ........f1b1bffffff.....
            ........fbfbffffff......
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        true
        )
        Direction1 = 6
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Entity, function (sprite, otherSprite) {
    sprites.destroy(MysteriousEntity, effects.none, 100)
    animation.runImageAnimation(
    Eli,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    500,
    false
    )
    HumanMove = 3
    tiles.setCurrentTilemap(tilemap`level5`)
    scene.setBackgroundImage(img`
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffff1111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffff1111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111fffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffff11111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111ffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111fffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111111ffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111111ffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111111111ffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff11111111111111111111111222fffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff11111111111111111111111122fffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111222ffffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff111111111111111111112222fffffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff11111111111111111111222222fffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff11111111111111111122222fffffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff22222222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222111111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff222222222fffffff22ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222211111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222111111111111111111111ffffffffffffffffffffffffff
        ffffffffffffffffffffffffffff222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222111111111111122222fffffffffffffffffffffffff
        fffffffffffffffffffffffffff2222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222111111111122222fffffffffffffffffffffffff
        fffffffffffffffffffffffffff2222222222222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222222222222222222fffffffffffffffffffff
        fffffffffffffffffffffffffff2222222222222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff222222222222fffffffffffffffffffff
        fffffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff22222222222222fffffffffffffffffffffffffffffffffffffffffffffffffff11111ffffffffffffffffffffffffffffffff2222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff22222222222222fffffffffffffffffffffffffffffffffffffffffffffffffff11221ffffffffffffffffffffffffffffffff2222222222222fffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff11211fffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff11211fffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff1121ffffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffff121ffffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff11fffffffffffffffffffffffffffffffffffffffffffffff121ffffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff1111fffffffffffffffffffffffffffffffffffffffffffff12fffffffffffffffffffff111fffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff1111ffffffffffffffffffffffffffffffffffffffffffffff2fffffffffffffffffffff1111fffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff1112ffffffffffffffffffffffffffffffffffffffffffffff2ffffffffffffffffffffff1111ffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff1122ffffffffffffffffffffffffffffffffffffffffffffff2ffffffffffffffffffffff1211fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff1221fffffffffffffffffffffffffffffffffffff111ffffff2fffffffff1ffffffffffff1221fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff122fffffffffffffffffffffffffffffffffffff11f11fffff2fffffffff1ffffffffffff1121fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff122ffff11111fffffffffffffffffffffffffffff1211fffff2fffffff1f1ffffffffffff1121fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff121ffff11111fffffffffffffffffffffffffffff1211fffff2fffffff111fff11111ffff1221fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff121ffff11111fffffffffffffffffffffffffffff1211fffff1fffffff11ffff11112ffff1211fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff1211fff11111fffffffffffffffffffffffffffff11211ffff1fffffff11ffff11112ffff2111fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff12221ff11111ffffffff11111ffffffffffffffff11221ffff1fffffff11ffff11112ffff2222fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222ffffff2121ff1111fffffffff11112fffffffffffffffff1121ffff1ffffff111ffff11112ffff1212fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff22122ff1211fffffffff11122ffffffffffffffffff121fffffffff1f111ffff11112ffff121ffffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff2ff12fff211fffffffff11221fffffffffffffffffff22fffffffff12111fffff1112fff21211ffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffffffff2fff21ffffffffff11211fffffffffffffffffff12ffffffff112111fffff1112ff1222ffffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffffffffffff21fffffffffff2211fffffffffffffffffff12fffffff1112111fffff112fffffffffffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffffffffffff21fffffffffff2111fffffffffffffffffff11ffffff11112111fffff112fffffffffffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffff2222222222222222fffffffffffff21fffffffffff2111fffffffffffffffffff11ffffff1111211ffffff112fffffffffffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffff2222222222222222ffff1ffffffff21fffffffffff2111ffffffffff11111ffff11ffffff1111211ffffff122fffffffffffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffff22222222222222222ffff11fffffff21fffffffffff2111ffffffffff11111ffff11ffffff1112211ffffff12fffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffff22222222222222222fff111fffffff21fffffffffff2111ffffffffff12111ffff11ffffff112211fffffff22ffffffff1ffffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff111fffffff22fffffffffff2111ffffffffff12111ffff11ffffff222ffffffffff21ffffffff11fffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff1111fffffff2fffffffffff211fffffffffff11211ffff11ffffff1ffffffffffff21ffffffff111ffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11111ffffffffffffffffff21fffffffffffff1211ffff11ffffff1fffffffffffffffffffff1112ffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11112fffff1ffffffffffff12fffffffffffff1221ffff11ffffffffffffffffffffffffffff1112fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11122fffff1ffffffffffff1ffffffffffffff112fffff1fffffffffffffffff1fffffffffff1122fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11121fffff1fffffffffffffffffffffffffff112fffff1fffffffffffffffff1fffffffffff1121fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11121fffff1fffffffffffffffffffffffffff112fffffffffffffffffffffff1fffffffffff1121fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff21121fffff1fffffffffffffffffffffffffff112ffffffffffffffff1ffffff111ffffffff11221fffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff22121ffff21ffffffffffffffffffffffffff1112ffffffffffffffff1fffffff11ffffffff11211fffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff12221ffff22ffffffffffffffffffffffffff1112fffffffff21ffff11fffffff11fffffffff12211ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff1221fffff121f1fffffffffffffffffffffff1112fffffff122fffff11fffffff1f2ffffffff22221ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff12221fff1121f2fffffffffffffffffffffff122ffffff11221fffff12fffffff112fffffff221122ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222ffff221ffff112212ffffffff11ffffffffffff1221ffffff1221ffffff12fffffff1121ffffffff1112ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffff1fffff111222fffffff111ffffffffffff12fffffff11211ffffff22fffffff1121ffffffff11ffffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffffffffff112211fffffff111ffffffffffff21fffffff11211fffff12ffffffff11211fffffff11ffffffff222222222222222fffffffffffffffff
        fffffffffffffffffffffff222222222222222ffffffffff111211ffffffff111ffffffffffff21fffffff11211fffff12ffffffff11211fffffffffffffffff222222222222222fffffffffffffffff
        ffffffffffffffffffffffff2222222222222fffffffffff111211ffffffff111ffffffffffff21fffffff12211fffff22ffffffff11211fffffffffffffffff222222222222222fffffffffffffffff
        ffffffffffffffffffffffff2222222222222fffffffffff11121fffffffff111ffffffffff1121fffffff12111fffff21ffffffff11121fffffffffffffffff2222222222222222ffffffffffffffff
        ffffffffffffffffffffffff2222222222222fffffffffff11121fffffffff112ffffffffff1121fffffff12111fffff21ffffffff11111ffffffffffffffffff222222222222222ffffffffffffffff
        fffffffffffffffffffffffff22222222222ffffffffffff11122fffffffff121ffffffffff1211fffffff12111fffff21fffffffffffffffffffffffffffffff222222222222222ffffffffffffffff
        ffffffffffffffffffffffffff2222222222ffffffffffff11112ffffffff1121ffffffffff1211fffffff121111ffff211fffffffffffffffffffffffffffffff22222222222222ffffffffffffffff
        ffffffffffffffffffffffffff222222222fffffffffffffffffffffffffff221ffffffffff12111ffffff121111ffff221fffffffffffffffffffffffffffffff22222222222222ffffffffffffffff
        ffffffffffffffffffffffffffff2222222ffffffffffffffffffffffff11121fffffffffff12111ffffff111111ffff122fffffffffffffffffffffffffffffff22222222222222ffffffffffffffff
        fffffffffffffffffffffffffffff222222ffffffffffffffffffffffff11211fffffffffff12111ffffff111111ffff1122fffffffffffffffffffffffffffffff2222222222222ffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11211fffffffffff12111ffffff11111fffff1112fffffffffffffffffffffffffffffff2222222f22222ffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22211fffffffffff12111ffffff1f1ffffffff11211fffffffffffffffffffffffffffff2222222ffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff12111fffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffff222222ffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffff22222fffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffff22222fffffffffffffffffffffff
        `)
    music.play(music.melodyPlayable(music.sonar), music.PlaybackMode.UntilDone)
    timer.after(2000, function () {
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        MusicCounter = 2
        HumanMove = 3
        animation.runImageAnimation(
        Eli,
        [img`
            ......ffff..............
            ....fff22fff............
            ...fff2222fff...........
            ..fffeeeeeefff..........
            ..ffe222222eef..........
            ..fe2ffffff2ef..........
            ..ffffeeeeffff..........
            .ffefbf44fbfeff.........
            .fee41fddf14eef.........
            ..feeddddddeef..........
            ...fee4444eef...........
            ..e4f222222f4e..........
            ..4df222222fd4..........
            ..44f445544f44..........
            .....ffffff.............
            .....ff..ff.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......1111..............
            ....11122111............
            ...11f2222f11...........
            ..11feeeeeef11..........
            ..1fe222222ee1..........
            ..1e2ffffff2e1..........
            ..1fffeeeefff1..........
            .11efbf44fbfe11.........
            .11e41fddf14e11.........
            ..11edddddde11..........
            ...1ee4444ee1...........
            ..11f222222f11..........
            ..111222222111..........
            ..111445544111..........
            .....111111.............
            .....11..11.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......1111..............
            ....11111111............
            ...1111111111...........
            ..111111111111..........
            ..111222222111..........
            ..111ffffff111..........
            ..111feeeef111..........
            .111fbf44fbf111.........
            .11141fddf14111.........
            ..111dddddd111..........
            ...1111111111...........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            .....111111.............
            .....11..11.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......1111..............
            ....11111111............
            ...1111111111...........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            .11111111111111.........
            .11111111111111.........
            ..111111111111..........
            ...1111111111...........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            .....111111.............
            .....11..11.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .......fb111111bf.......
            ......fffcdb1bdffff.....
            ....fc111cbfbfc111cf....
            ....f1b1b1ffff1b1b1f....
            ....fbfbffffffbfbfbf....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `],
        200,
        false
        )
        Orb = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . 6 6 6 6 . . . . . . 
            . . . . 6 6 6 5 5 6 6 6 . . . . 
            . . . 7 7 7 7 6 6 6 6 6 6 . . . 
            . . 6 7 7 7 7 8 8 8 1 1 6 6 . . 
            . . 7 7 7 7 7 8 8 8 1 1 5 6 . . 
            . 6 7 7 7 7 8 8 8 8 8 5 5 6 6 . 
            . 6 7 7 7 8 8 8 6 6 6 6 5 6 6 . 
            . 6 6 7 7 8 8 6 6 6 6 6 6 6 6 . 
            . 6 8 7 7 8 8 6 6 6 6 6 6 6 6 . 
            . . 6 8 7 7 8 6 6 6 6 6 8 6 . . 
            . . 6 8 8 7 8 8 6 6 6 8 6 6 . . 
            . . . 6 8 8 8 8 8 8 8 8 6 . . . 
            . . . . 6 6 8 8 8 8 6 6 . . . . 
            . . . . . . 6 6 6 6 . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Food)
        tiles.placeOnTile(Orb, tiles.getTileLocation(1, 26))
        tiles.placeOnTile(Eli, tiles.getTileLocation(1, 1))
        HumanMove = 2
        timer.after(200, function () {
            music.play(music.createSoundEffect(WaveShape.Noise, 5000, 2961, 255, 255, 500, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
            tiles.setCurrentTilemap(tilemap`level4`)
        })
        timer.after(1000, function () {
            Eli.sayText("What happened? Where am I?")
            timer.after(2500, function () {
                Eli.sayText("What happened to my body??")
                timer.after(2500, function () {
                    Eli.sayText("I need to find a way out!")
                    timer.after(2500, function () {
                        Eli.sayText("")
                    })
                })
            })
        })
    })
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    sprites.destroy(FamiliarEntity, effects.disintegrate, 2000)
    Eli.sayText("I defeated him!!!")
    timer.after(4000, function () {
        controller.moveSprite(Eli, 0, 0)
        Eli.sayText("")
        HumanMove = 3
        tiles.setCurrentTilemap(tilemap`level38`)
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .......fb111111bf.......
            ......fffcdb1bdffff.....
            ....fc111cbfbfc111cf....
            ....f1b1b1ffff1b1b1f....
            ....fbfbffffffbfbfbf....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......1111..............
            ....11111111............
            ...1111111111...........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            .11111111111111.........
            .11111111111111.........
            ..111111111111..........
            ...1111111111...........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            .....111111.............
            .....11..11.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......1111..............
            ....11111111............
            ...1111111111...........
            ..111111111111..........
            ..111222222111..........
            ..111ffffff111..........
            ..111feeeef111..........
            .111fbf44fbf111.........
            .11141fddf14111.........
            ..111dddddd111..........
            ...1111111111...........
            ..111111111111..........
            ..111111111111..........
            ..111111111111..........
            .....111111.............
            .....11..11.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......1111..............
            ....11122111............
            ...11f2222f11...........
            ..11feeeeeef11..........
            ..1fe222222ee1..........
            ..1e2ffffff2e1..........
            ..1fffeeeefff1..........
            .11efbf44fbfe11.........
            .11e41fddf14e11.........
            ..11edddddde11..........
            ...1ee4444ee1...........
            ..11f222222f11..........
            ..111222222111..........
            ..111445544111..........
            .....111111.............
            .....11..11.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `,img`
            ......ffff..............
            ....fff22fff............
            ...fff2222fff...........
            ..fffeeeeeefff..........
            ..ffe222222eef..........
            ..fe2ffffff2ef..........
            ..ffffeeeeffff..........
            .ffefbf44fbfeff.........
            .fee41fddf14eef.........
            ..feeddddddeef..........
            ...fee4444eef...........
            ..e4f222222f4e..........
            ..4df222222fd4..........
            ..44f445544f44..........
            .....ffffff.............
            .....ff..ff.............
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `],
        500,
        false
        )
        ScratchAttack = 0
        tiles.placeOnTile(Eli, tiles.getTileLocation(7, 5))
        timer.after(3000, function () {
            game.gameOver(true)
        })
    })
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (HumanMove == 1) {
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 2 f . . . 
            . . . f f e e e e f 2 2 2 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 2 2 2 2 e f . 
            . . . f e 2 2 2 f f f f e 2 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 4 4 e b f 4 4 e e f . 
            . . f e e 4 d 4 1 f d d e f . . 
            . . . f e e e 4 d d d d f . . . 
            . . . . f f e e 4 4 4 e f . . . 
            . . . . . 4 d d e 2 2 2 f . . . 
            . . . . . e d d e 2 2 2 f . . . 
            . . . . . f e e f 4 5 5 f . . . 
            . . . . . . f f f f f f . . . . 
            . . . . . . . f f f . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 2 f . . . 
            . . . f f e e e e f 2 2 2 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 2 2 2 2 e f . 
            . . . f e 2 2 2 f f f f e 2 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 4 4 e b f 4 4 e e f . 
            . . f e e 4 d 4 1 f d d e f . . 
            . . . f e e e e e d d d f . . . 
            . . . . . f 4 d d e 4 e f . . . 
            . . . . . f e d d e 2 2 f . . . 
            . . . . f f f e e f 5 5 f f . . 
            . . . . f f f f f f f f f f . . 
            . . . . . f f . . . f f f . . . 
            `,img`
            . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 2 f . . . 
            . . . f f e e e e f 2 2 2 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 2 2 2 2 e f . 
            . . . f e 2 2 2 f f f f e 2 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 4 4 e b f 4 4 e e f . 
            . . f e e 4 d 4 1 f d d e f . . 
            . . . f e e e 4 d d d d f . . . 
            . . . . f f e e 4 4 4 e f . . . 
            . . . . . 4 d d e 2 2 2 f . . . 
            . . . . . e d d e 2 2 2 f . . . 
            . . . . . f e e f 4 5 5 f . . . 
            . . . . . . f f f f f f . . . . 
            . . . . . . . f f f . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 2 f . . . 
            . . . f f e e e e f 2 2 2 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 2 2 2 2 e f . 
            . . . f e 2 2 2 f f f f e 2 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 4 4 e b f 4 4 e e f . 
            . . f e e 4 d 4 1 f d d e f . . 
            . . . f e e e 4 d d d d f . . . 
            . . . . 4 d d e 4 4 4 e f . . . 
            . . . . e d d e 2 2 2 2 f . . . 
            . . . . f e e f 4 4 5 5 f f . . 
            . . . . f f f f f f f f f f . . 
            . . . . . f f . . . f f f . . . 
            `],
        100,
        true
        )
        Direction1 = 3
    }
    if (HumanMove == 2) {
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........fffff.........
            ........ff11111f........
            .......fb111111bf.......
            ......fbd1111111f.......
            ......fddd111111df......
            ......fdddd11111df......
            ......fddddddd11df......
            ......fddddddd111f......
            ......fddddddcf11f......
            .......fbdddb1111bf.....
            ........fffcfdb1b1f.....
            .......ffffffffbfbf.....
            ....ff.fffffffffff......
            .....ffffffff...........
            .....ffffffb1b1f........
            ......ffffffbfbf........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......fd1111111f.......
            ......fdd1111111df......
            ......fddd111111df......
            ......fdddddd111df......
            ......fbddddbfd1df......
            ......fcbbbdcfddbf......
            .......fcbb11111f.......
            ........fffff1b1f.......
            ........fb111cfbf.......
            ........ffb1b1ff........
            ......f.fffbfbf.........
            ......ffffffff..........
            .......fffff............
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        true
        )
        Direction1 = 7
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.F_Entity, function (sprite, otherSprite) {
    if (can_attack == 1) {
        statusbar.value += -1
    } else if (can_attack2 == 1) {
        statusbar.value += -1
    } else {
        info.changeLifeBy(-1)
    }
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (HumanMove == 1) {
        animation.runImageAnimation(
        Eli,
        [img`
            . . . . . . f f f f . . . . . . 
            . . . . f f f 2 2 f f f . . . . 
            . . . f f f 2 2 2 2 f f f . . . 
            . . f f f e e e e e e f f f . . 
            . . f f e 2 2 2 2 2 2 e e f . . 
            . . f e 2 f f f f f f 2 e f . . 
            . . f f f f e e e e f f f f . . 
            . f f e f b f 4 4 f b f e f f . 
            . f e e 4 1 f d d f 1 4 e e f . 
            . . f e d d d d d d d d e f . . 
            . . . f f d d d d d d f f . . . 
            . . e 4 f 2 2 2 2 2 2 f 4 e . . 
            . . 4 d f 2 2 2 2 2 2 f d 4 . . 
            . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
            . . . . . f f f f f f . . . . . 
            . . . . . f f . . f f . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . f f f 2 2 f f f . . . . 
            . . . f f f 2 2 2 2 f f f . . . 
            . . f f f e e e e e e f f f . . 
            . . f f e 2 2 2 2 2 2 e e f . . 
            . f f e 2 f f f f f f 2 e f f . 
            . f f f f f e e e e f f f f f . 
            . . f e f b f 4 4 f b f e f . . 
            . . f e 4 1 f d d f 1 4 e f . . 
            . . f f e 4 d d d d 4 e f e . . 
            . . d e f 2 2 2 2 e d d 4 e . . 
            . . d 4 f 2 2 2 2 e d d e . . . 
            . . . . f 4 4 5 5 f e e . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . f f f . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . f f f 2 2 f f f . . . . 
            . . . f f f 2 2 2 2 f f f . . . 
            . . f f f e e e e e e f f f . . 
            . . f e e 2 2 2 2 2 2 e f f . . 
            . f f e 2 f f f f f f 2 e f f . 
            . f f f f f e e e e f f f f f . 
            . . f e f b f 4 4 f b f e f . . 
            . . f e 4 1 f d d f 1 4 e f . . 
            . . e f e 4 d d d d 4 e f f . . 
            . . e 4 d d e 2 2 2 2 f e d . . 
            . . . e d d e 2 2 2 2 f 4 d . . 
            . . . . e e f 5 5 4 4 f . . . . 
            . . . . . f f f f f f f . . . . 
            . . . . . . . . . f f f . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . f f f 2 2 f f f . . . . 
            . . . f f f 2 2 2 2 f f f . . . 
            . . f f f e e e e e e f f f . . 
            . . f e e 2 2 2 2 2 2 e f f . . 
            . f f e 2 f f f f f f 2 e f f . 
            . f f f f f e e e e f f f f f . 
            . . f e f b f 4 4 f b f e f . . 
            . . f e 4 1 f d d f 1 4 e f . . 
            . . e f e 4 d d d d 4 e f . . . 
            . . e 4 d d e 2 2 2 2 f e d . . 
            . . . e d d e 2 2 2 2 f 4 d . . 
            . . . . e e f 5 5 4 4 f . . . . 
            . . . . . f f f f f f f . . . . 
            . . . . . . . . . f f f . . . . 
            `],
        100,
        true
        )
        Direction1 = 1
    }
    if (HumanMove == 2) {
        animation.runImageAnimation(
        Eli,
        [img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .......fb111111bf.......
            ......fffcdb1bdffff.....
            ....fc111cbfbfc111cf....
            ....f1b1b1ffff1b1b1f....
            ....fbfbffffffbfbfbf....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .......fb111111ffff.....
            ......fffcdb1bc111cf....
            ....fc111cbfbf1b1b1f....
            ....f1b1b1ffffbfbfbf....
            ....fbfbfffffff.........
            .........fffff..........
            ..........fff...........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .......fb111111bf.......
            ......fffcdb1bdffff.....
            ....fc111cbfbfc111cf....
            ....f1b1b1ffff1b1b1f....
            ....fbfbffffffbfbfbf....
            .........ffffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `,img`
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ......fd11111111df......
            ......fddd1111dddf......
            ......fbdbfddfbdbf......
            ......fcdcf11fcdcf......
            .....ffff111111bf.......
            ....fc111cdb1bdfff......
            ....f1b1bcbfbfc111cf....
            ....fbfbfbffff1b1b1f....
            .........fffffffbfbf....
            ..........fffff.........
            ...........fff..........
            ........................
            ........................
            ........................
            ........................
            `],
        100,
        true
        )
        Direction1 = 5
    }
})
info.onLifeZero(function () {
    sprites.destroy(Eli, effects.none, 100)
    sprites.destroy(FamiliarEntity, effects.none, 100)
    tiles.setCurrentTilemap(tilemap`level5`)
    scene.setBackgroundImage(img`
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffff1111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffff1111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111fffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffff11111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111ffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111fffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111111ffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111111ffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111111111111111111ffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111111ffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff11111111111111111111111222fffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff11111111111111111111111122fffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff1111111111111111111111222ffffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff111111111111111111112222fffffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        ffffffffffffffffffffffffffffff11111111111111111111222222fffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff11111111111111111122222fffffffffffffffffffffffffffffffffffffffffffffffffffff2111111111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff22222222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222111111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff222222222fffffff22ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222211111111111111111111111fffffffffffffffffffffffff
        fffffffffffffffffffffffffffffff222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222111111111111111111111ffffffffffffffffffffffffff
        ffffffffffffffffffffffffffff222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222111111111111122222fffffffffffffffffffffffff
        fffffffffffffffffffffffffff2222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222111111111122222fffffffffffffffffffffffff
        fffffffffffffffffffffffffff2222222222222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222222222222222222fffffffffffffffffffff
        fffffffffffffffffffffffffff2222222222222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff222222222222fffffffffffffffffffff
        fffffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222ffffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff222222222222222fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff22222222222222fffffffffffffffffffffffffffffffffffffffffffffffffff11111ffffffffffffffffffffffffffffffff2222222222222fffffffffffffffffff
        ffffffffffffffffffffffffff22222222222222fffffffffffffffffffffffffffffffffffffffffffffffffff11221ffffffffffffffffffffffffffffffff2222222222222fffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff11211fffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff11211fffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff22222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffff1121ffffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222ffffffffffffffffffffffffffffffffffffffffffffffffffffff121ffffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff11fffffffffffffffffffffffffffffffffffffffffffffff121ffffffffffffffffffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff1111fffffffffffffffffffffffffffffffffffffffffffff12fffffffffffffffffffff111fffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff1111ffffffffffffffffffffffffffffffffffffffffffffff2fffffffffffffffffffff1111fffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffffffff2222222222222fffff1112ffffffffffffffffffffffffffffffffffffffffffffff2ffffffffffffffffffffff1111ffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff1122ffffffffffffffffffffffffffffffffffffffffffffff2ffffffffffffffffffffff1211fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff1221fffffffffffffffffffffffffffffffffffff111ffffff2fffffffff1ffffffffffff1221fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff122fffffffffffffffffffffffffffffffffffff11f11fffff2fffffffff1ffffffffffff1121fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff122ffff11111fffffffffffffffffffffffffffff1211fffff2fffffff1f1ffffffffffff1121fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff121ffff11111fffffffffffffffffffffffffffff1211fffff2fffffff111fff11111ffff1221fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff121ffff11111fffffffffffffffffffffffffffff1211fffff1fffffff11ffff11112ffff1211fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff1211fff11111fffffffffffffffffffffffffffff11211ffff1fffffff11ffff11112ffff2111fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff12221ff11111ffffffff11111ffffffffffffffff11221ffff1fffffff11ffff11112ffff2222fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222ffffff2121ff1111fffffffff11112fffffffffffffffff1121ffff1ffffff111ffff11112ffff1212fffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff22122ff1211fffffffff11122ffffffffffffffffff121fffffffff1f111ffff11112ffff121ffffff22222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffff2ff12fff211fffffffff11221fffffffffffffffffff22fffffffff12111fffff1112fff21211ffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffffff22222222222222fffffffff2fff21ffffffffff11211fffffffffffffffffff12ffffffff112111fffff1112ff1222ffffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffffffffffff21fffffffffff2211fffffffffffffffffff12fffffff1112111fffff112fffffffffffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffffffffffff21fffffffffff2111fffffffffffffffffff11ffffff11112111fffff112fffffffffffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffff2222222222222222fffffffffffff21fffffffffff2111fffffffffffffffffff11ffffff1111211ffffff112fffffffffffffff2222222222222222ffffffffffffffffff
        ffffffffffffffffffffff2222222222222222ffff1ffffffff21fffffffffff2111ffffffffff11111ffff11ffffff1111211ffffff122fffffffffffffff2222222222222222ffffffffffffffffff
        fffffffffffffffffffff22222222222222222ffff11fffffff21fffffffffff2111ffffffffff11111ffff11ffffff1112211ffffff12fffffffffffffffff222222222222222ffffffffffffffffff
        fffffffffffffffffffff22222222222222222fff111fffffff21fffffffffff2111ffffffffff12111ffff11ffffff112211fffffff22ffffffff1ffffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff111fffffff22fffffffffff2111ffffffffff12111ffff11ffffff222ffffffffff21ffffffff11fffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff1111fffffff2fffffffffff211fffffffffff11211ffff11ffffff1ffffffffffff21ffffffff111ffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11111ffffffffffffffffff21fffffffffffff1211ffff11ffffff1fffffffffffffffffffff1112ffffff222222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11112fffff1ffffffffffff12fffffffffffff1221ffff11ffffffffffffffffffffffffffff1112fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11122fffff1ffffffffffff1ffffffffffffff112fffff1fffffffffffffffff1fffffffffff1122fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11121fffff1fffffffffffffffffffffffffff112fffff1fffffffffffffffff1fffffffffff1121fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff11121fffff1fffffffffffffffffffffffffff112fffffffffffffffffffffff1fffffffffff1121fffffff22222222222222ffffffffffffffffff
        ffffffffffffffffffff222222222222222222fff21121fffff1fffffffffffffffffffffffffff112ffffffffffffffff1ffffff111ffffffff11221fffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff22121ffff21ffffffffffffffffffffffffff1112ffffffffffffffff1fffffff11ffffffff11211fffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff12221ffff22ffffffffffffffffffffffffff1112fffffffff21ffff11fffffff11fffffffff12211ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff1221fffff121f1fffffffffffffffffffffff1112fffffff122fffff11fffffff1f2ffffffff22221ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fff12221fff1121f2fffffffffffffffffffffff122ffffff11221fffff12fffffff112fffffff221122ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222ffff221ffff112212ffffffff11ffffffffffff1221ffffff1221ffffff12fffffff1121ffffffff1112ffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffff1fffff111222fffffff111ffffffffffff12fffffff11211ffffff22fffffff1121ffffffff11ffffffff22222222222222ffffffffffffffffff
        fffffffffffffffffffffff222222222222222fffffffffff112211fffffff111ffffffffffff21fffffff11211fffff12ffffffff11211fffffff11ffffffff222222222222222fffffffffffffffff
        fffffffffffffffffffffff222222222222222ffffffffff111211ffffffff111ffffffffffff21fffffff11211fffff12ffffffff11211fffffffffffffffff222222222222222fffffffffffffffff
        ffffffffffffffffffffffff2222222222222fffffffffff111211ffffffff111ffffffffffff21fffffff12211fffff22ffffffff11211fffffffffffffffff222222222222222fffffffffffffffff
        ffffffffffffffffffffffff2222222222222fffffffffff11121fffffffff111ffffffffff1121fffffff12111fffff21ffffffff11121fffffffffffffffff2222222222222222ffffffffffffffff
        ffffffffffffffffffffffff2222222222222fffffffffff11121fffffffff112ffffffffff1121fffffff12111fffff21ffffffff11111ffffffffffffffffff222222222222222ffffffffffffffff
        fffffffffffffffffffffffff22222222222ffffffffffff11122fffffffff121ffffffffff1211fffffff12111fffff21fffffffffffffffffffffffffffffff222222222222222ffffffffffffffff
        ffffffffffffffffffffffffff2222222222ffffffffffff11112ffffffff1121ffffffffff1211fffffff121111ffff211fffffffffffffffffffffffffffffff22222222222222ffffffffffffffff
        ffffffffffffffffffffffffff222222222fffffffffffffffffffffffffff221ffffffffff12111ffffff121111ffff221fffffffffffffffffffffffffffffff22222222222222ffffffffffffffff
        ffffffffffffffffffffffffffff2222222ffffffffffffffffffffffff11121fffffffffff12111ffffff111111ffff122fffffffffffffffffffffffffffffff22222222222222ffffffffffffffff
        fffffffffffffffffffffffffffff222222ffffffffffffffffffffffff11211fffffffffff12111ffffff111111ffff1122fffffffffffffffffffffffffffffff2222222222222ffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11211fffffffffff12111ffffff11111fffff1112fffffffffffffffffffffffffffffff2222222f22222ffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22211fffffffffff12111ffffff1f1ffffffff11211fffffffffffffffffffffffffffff2222222ffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff12111fffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffff222222ffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffff22222fffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11211ffffffffffffffffffffffffffffff22222fffffffffffffffffffffff
        `)
    music.play(music.melodyPlayable(music.sonar), music.PlaybackMode.UntilDone)
    timer.after(2500, function () {
        game.gameOver(false)
    })
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.E_Projectile, function (sprite, otherSprite) {
    music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.UntilDone)
    animation.runImageAnimation(
    otherSprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . 2 1 2 . . . . . . 
        . . . . . . . 2 1 2 . . . . . . 
        . . . . . . . 2 1 2 . . . . . . 
        . . . . . . . 3 1 3 . . . . . . 
        . . . . . . 2 3 1 3 2 . . . . . 
        . . . . . . 2 1 1 1 2 . . . . . 
        . . . . . . 2 1 1 1 3 . . . . . 
        . . . . . . 3 1 1 1 3 . . . . . 
        . . . . . . 3 1 1 1 3 . . . . . 
        . . . . . . 3 1 1 1 3 . . . . . 
        . . . . . . 2 3 1 3 2 . . . . . 
        . . . . . . . 2 2 2 . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 2 3 3 3 3 3 2 . . . . 
        . . . . 3 1 1 1 1 1 1 1 3 . . . 
        . . . . 1 1 1 1 1 1 1 1 1 . . . 
        . . . 2 1 1 1 1 1 1 1 1 1 2 . . 
        . . . 2 3 1 1 1 1 1 1 3 3 2 . . 
        . . . . . . 2 2 2 2 2 . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 4 4 4 4 4 . . . . . . 
        . . . 4 4 4 5 5 5 d 4 4 4 4 . . 
        . . 4 d 5 d 5 5 5 d d d 4 4 . . 
        . . 4 5 5 1 1 1 d d 5 5 5 4 . . 
        . 4 5 5 5 1 1 1 5 1 1 5 5 4 4 . 
        . 4 d d 1 1 5 5 5 1 1 5 5 d 4 . 
        . 4 5 5 1 1 5 1 1 5 5 d d d 4 . 
        . 2 5 5 5 d 1 1 1 5 1 1 5 5 2 . 
        . 2 d 5 5 d 1 1 1 5 1 1 5 5 2 . 
        . . 2 4 d d 5 5 5 5 d d 5 4 . . 
        . . . 2 2 4 d 5 5 d d 4 4 . . . 
        . . 2 2 2 2 2 4 4 4 2 2 2 . . . 
        . . . 2 2 4 4 4 4 4 4 2 2 . . . 
        . . . . . 2 2 2 2 2 2 . . . . . 
        `,img`
        . . . . 2 2 2 2 2 2 2 2 . . . . 
        . . . 2 4 4 4 5 5 4 4 4 2 2 2 . 
        . 2 2 5 5 d 4 5 5 5 4 4 4 4 2 . 
        . 2 4 5 5 5 5 d 5 5 5 4 5 4 2 2 
        . 2 4 d d 5 5 5 5 5 5 d 4 4 4 2 
        2 4 5 5 d 5 5 5 d d d 5 5 5 4 4 
        2 4 5 5 4 4 4 d 5 5 d 5 5 5 4 4 
        4 4 4 4 . . 2 4 5 5 . . 4 4 4 4 
        . . b b b b 2 4 4 2 b b b b . . 
        . b d d d d 2 4 4 2 d d d d b . 
        b d d b b b 2 4 4 2 b b b d d b 
        b d d b b b b b b b b b b d d b 
        b b d 1 1 3 1 1 d 1 d 1 1 d b b 
        . . b b d d 1 1 3 d d 1 b b . . 
        . . 2 2 4 4 4 4 4 4 4 4 2 2 . . 
        . . . 2 2 4 4 4 4 4 2 2 2 . . . 
        `,img`
        . . . . . . . . b b . . . . . . 
        . . . . . . . . b b . . . . . . 
        . . . b b b . . . . . . . . . . 
        . . b d d b . . . . . . . b b . 
        . b d d d b . . . . . . b d d b 
        . b d d b . . . . b b . b d d b 
        . b b b . . . . . b b . . b b . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . b b b d d d d d d b b b . . 
        . b d c c c b b b b c c d d b . 
        b d d c b . . . . . b c c d d b 
        c d d b b . . . . . . b c d d c 
        c b d d d b b . . . . b d d c c 
        . c c b d d d d b . c c c c c c 
        . . . c c c c c c . . . . . . . 
        `],
    100,
    false
    )
    if (can_attack2 == 1) {
        sprites.destroy(otherSprite, effects.ashes, 100)
    } else {
        info.changeLifeBy(-5)
        timer.after(400, function () {
            sprites.destroy(otherSprite, effects.ashes, 100)
        })
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    music.play(music.melodyPlayable(music.spooky), music.PlaybackMode.InBackground)
    sprites.destroy(otherSprite, effects.disintegrate, 500)
    info.setLife(500)
    ScratchAttack = 1
    can_attack = 0
    can_attack2 = 0
    MysteriousEntity2 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . f f f f f f f f . . . . 
        . . . f f f f f f f f f f . . . 
        . . . f f f f f f f f f f . . . 
        . . . f f 1 1 f f 1 1 f f . . . 
        . . . f f 1 1 f f 1 1 f f . . . 
        . . . f f 2 f f f f 2 f f . . . 
        . . . f f 2 f f f f 2 f f . . . 
        . . . . . f f f f f f . . . . . 
        . . f f f f f f f f f f f f . . 
        . . f f f f f f f f f f f f . . 
        . . f f f f f f f f f f f f . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `, SpriteKind.Entity2)
    tiles.placeOnTile(MysteriousEntity2, tiles.getTileLocation(1, 22))
    timer.after(1800, function () {
        MysteriousEntity2.follow(Eli, 150)
    })
})
let MysteriousEntity2: Sprite = null
let Orb: Sprite = null
let moving = false
let can_attack = 0
let can_attack2 = 0
let ScratchAttack = 0
let Direction1 = 0
let statusbar: StatusBarSprite = null
let CanShoot = 0
let ShotAngle = 0
let FamiliarEntity: Sprite = null
let EntityProjectile: Sprite = null
let ShotSpeed = 0
let ShotRepeat = 0
let PreviousShot = 0
let GameTime = 0
let ShootInterval = 0
let Transform = 0
let Future_Projectiles: Image[] = []
let E_ProjectileList: Image[] = []
let MusicCounter = 0
let MysteriousEntity: Sprite = null
let HumanMove = 0
let Eli: Sprite = null
Eli = sprites.create(img`
    . . . . . . f f f f . . . . . . 
    . . . . f f f 2 2 f f f . . . . 
    . . . f f f 2 2 2 2 f f f . . . 
    . . f f f e e e e e e f f f . . 
    . . f f e 2 2 2 2 2 2 e e f . . 
    . . f e 2 f f f f f f 2 e f . . 
    . . f f f f e e e e f f f f . . 
    . f f e f b f 4 4 f b f e f f . 
    . f e e 4 1 f d d f 1 4 e e f . 
    . . f e e d d d d d d e e f . . 
    . . . f e e 4 4 4 4 e e f . . . 
    . . e 4 f 2 2 2 2 2 2 f 4 e . . 
    . . 4 d f 2 2 2 2 2 2 f d 4 . . 
    . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
    . . . . . f f f f f f . . . . . 
    . . . . . f f . . f f . . . . . 
    `, SpriteKind.Player)
HumanMove = 1
MysteriousEntity = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . f f f f f f f f . . . . 
    . . . f f f f f f f f f f . . . 
    . . . f f f f f f f f f f . . . 
    . . . f f 1 1 f f 1 1 f f . . . 
    . . . f f 1 1 f f 1 1 f f . . . 
    . . . f f 2 f f f f 2 f f . . . 
    . . . f f 2 f f f f 2 f f . . . 
    . . . . . f f f f f f . . . . . 
    . . f f f f f f f f f f f f . . 
    . . f f f f f f f f f f f f . . 
    . . f f f f f f f f f f f f . . 
    . . . . . f f f f f f . . . . . 
    . . . . . f f . . f f . . . . . 
    `, SpriteKind.Entity)
scene.cameraFollowSprite(Eli)
controller.moveSprite(Eli)
tiles.setCurrentTilemap(tilemap`level1`)
tiles.placeOnTile(MysteriousEntity, tiles.getTileLocation(4, 13))
MusicCounter = 1
E_ProjectileList = [img`
    . . . . . . . . . . . . . . . . 
    . . . . . . f f f f . . . . . . 
    . . . . f 2 2 2 2 2 f f . . . . 
    . . . 2 2 1 1 1 2 2 2 f f . . . 
    . . f 2 1 1 1 f f f f 2 f f . . 
    . . 2 1 1 1 2 f f f f 2 2 f . . 
    . f 2 2 1 2 f f f f f 2 2 f f . 
    . f 2 2 2 f f f 2 2 2 2 2 2 f . 
    . f f 2 2 f f 2 2 2 2 2 2 2 2 . 
    . f f 2 2 f f 2 2 2 2 2 2 2 2 . 
    . . f f 2 2 f 2 2 2 2 2 f 2 . . 
    . . f f f 2 f f 2 2 2 f 2 2 . . 
    . . . 2 f f f f f f f f 2 . . . 
    . . . . 2 2 f f f f f f . . . . 
    . . . . . . f f f f . . . . . . 
    . . . . . . . . . . . . . . . . 
    `]
Future_Projectiles = [
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 3 3 3 3 . . . . . . 
    . . . . 3 2 2 1 1 1 3 3 . . . . 
    . . . 2 1 1 2 2 1 1 1 3 3 . . . 
    . . 3 3 1 1 2 2 2 2 1 3 3 3 . . 
    . . 2 2 2 1 1 2 2 2 3 3 3 3 . . 
    . 3 2 2 2 2 2 2 2 2 3 3 3 3 3 . 
    . 3 1 2 2 2 2 2 1 1 1 3 3 1 3 . 
    . 3 3 1 1 2 2 1 1 1 1 1 2 1 1 . 
    . 3 2 1 1 2 2 1 1 1 1 1 2 1 1 . 
    . . 3 2 1 1 2 1 1 1 1 1 2 1 . . 
    . . 3 2 2 1 2 2 1 1 1 2 2 1 . . 
    . . . 3 2 2 2 2 2 2 2 2 3 . . . 
    . . . . 1 1 2 2 2 2 3 3 . . . . 
    . . . . . . 3 3 3 3 . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 6 6 6 6 . . . . . . 
    . . . . 6 6 6 5 5 6 6 6 . . . . 
    . . . 7 7 7 7 6 6 6 6 6 6 . . . 
    . . 6 7 7 7 7 8 8 8 1 1 6 6 . . 
    . . 7 7 7 7 7 8 8 8 1 1 5 6 . . 
    . 6 7 7 7 7 8 8 8 8 8 5 5 6 6 . 
    . 6 7 7 7 8 8 8 6 6 6 6 5 6 6 . 
    . 6 6 7 7 8 8 6 6 6 6 6 6 6 6 . 
    . 6 8 7 7 8 8 6 6 6 6 6 6 6 6 . 
    . . 6 8 7 7 8 6 6 6 6 6 8 6 . . 
    . . 6 8 8 7 8 8 6 6 6 8 6 6 . . 
    . . . 6 8 8 8 8 8 8 8 8 6 . . . 
    . . . . 6 6 8 8 8 8 6 6 . . . . 
    . . . . . . 6 6 6 6 . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 6 6 6 6 . . . . . . 
    . . . . 6 9 9 9 9 9 6 6 . . . . 
    . . . 9 9 1 1 1 9 9 9 6 6 . . . 
    . . 6 9 1 1 1 8 8 8 8 9 6 6 . . 
    . . 9 1 1 1 9 8 8 8 8 9 9 6 . . 
    . 6 9 9 1 9 8 8 8 8 8 9 9 6 6 . 
    . 6 9 9 9 8 8 8 6 6 6 9 9 9 6 . 
    . 6 6 9 9 8 8 6 6 6 6 6 9 9 9 . 
    . 6 8 9 9 8 8 6 6 6 6 6 9 9 9 . 
    . . 6 8 9 9 8 6 6 6 6 6 8 9 . . 
    . . 6 8 8 9 8 8 6 6 6 8 9 9 . . 
    . . . 9 8 8 8 8 8 8 8 8 9 . . . 
    . . . . 9 9 8 8 8 8 6 6 . . . . 
    . . . . . . 6 6 6 6 . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . a a a a . . . . . . 
    . . . . a a b b b b a a . . . . 
    . . . a b 1 1 1 b b b a a . . . 
    . . a b 1 1 1 b c c c b a a . . 
    . . b 1 1 1 b c c c c b b a . . 
    . a b b 1 b c c c c a b b a a . 
    . a b b b c c c a a a b b b a . 
    . a a b b c c a a a a a b b a . 
    . a c b b c c a a a a a b b b . 
    . . a c b b c a a a a a c b . . 
    . . a c c b c c a a a c b a . . 
    . . . b c c c c c c c c a . . . 
    . . . . b b c c c c a a . . . . 
    . . . . . . a a a a . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . c c c c . . . . . . 
    . . . . c a a a a a c c . . . . 
    . . . a a 1 1 1 a a a c c . . . 
    . . c a 1 1 1 f f f f a c c . . 
    . . a 1 1 1 a f f f f a a c . . 
    . c a a 1 a f f f f f a a c c . 
    . c a a a f f f c c c a a a c . 
    . c c a a f f c c c c c a a a . 
    . c f a a f f c c c c c a a a . 
    . . c f a a f c c c c c f a . . 
    . . c f f a f f c c c f a a . . 
    . . . a f f f f f f f f a . . . 
    . . . . a a f f f f c c . . . . 
    . . . . . . c c c c . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 3 2 2 2 . . . . . . 
    . . . . 3 3 2 3 3 3 2 3 . . . . 
    . . . 2 3 2 3 2 2 2 3 3 2 . . . 
    . . 3 3 2 2 1 1 1 1 1 3 2 2 . . 
    . . 3 2 1 2 2 1 1 1 3 3 3 2 . . 
    . 2 3 2 1 1 2 2 1 3 3 1 3 2 2 . 
    . 2 3 2 1 1 1 2 3 3 1 1 3 3 3 . 
    . 2 3 2 1 1 3 3 2 1 1 1 2 3 3 . 
    . 3 2 3 1 3 3 1 2 2 1 1 2 3 3 . 
    . . 2 3 3 3 1 1 1 2 2 1 2 3 . . 
    . . 2 3 3 1 1 1 1 1 2 2 3 3 . . 
    . . . 3 2 3 2 2 2 2 3 3 2 . . . 
    . . . . 3 2 3 3 2 2 2 2 . . . . 
    . . . . . . 2 2 3 3 . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . e e e e . . . . . . 
    . . . . e e 7 e e 7 e e . . . . 
    . . . e 7 7 7 7 7 7 7 7 e . . . 
    . . e e 7 7 7 7 7 e 1 1 7 e . . 
    . . e e e e 7 e e e 1 1 e e . . 
    . e 7 7 7 e e e e e e e 7 7 e . 
    . e 7 7 7 e e e e 7 7 7 7 7 e . 
    . e e e e e e 7 e e 7 7 7 7 e . 
    . e e e e e e 7 7 e e e 7 e e . 
    . . e e 7 7 7 7 7 7 7 e e e . . 
    . . e e e 7 e 7 7 7 7 e e e . . 
    . . . e e e e 7 7 e e e e . . . 
    . . . . e e e e e e e e . . . . 
    . . . . . . e e e e . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 4 4 4 4 . . . . . . 
    . . . . 4 5 5 5 5 4 4 4 . . . . 
    . . . 5 5 1 1 1 5 4 4 4 4 . . . 
    . . 4 5 1 1 1 2 2 2 2 5 4 4 . . 
    . 4 5 1 1 1 5 2 2 2 2 5 5 4 4 . 
    . 4 5 5 1 5 2 2 2 2 2 5 5 5 4 . 
    . 4 5 5 5 2 2 2 4 4 4 4 5 5 4 . 
    . 4 4 5 5 2 2 4 4 4 4 4 4 5 4 . 
    . 4 2 5 5 2 2 4 4 4 4 4 4 4 4 . 
    . 4 4 2 5 5 2 4 4 4 4 4 2 4 4 . 
    . . 4 2 2 5 2 2 4 4 4 2 4 4 . . 
    . . . 4 2 2 2 2 2 2 2 2 4 . . . 
    . . . . 4 4 2 2 2 2 4 4 . . . . 
    . . . . . . 4 4 4 4 . . . . . . 
    . . . . . . . . . . . . . . . . 
    `
]
Eli.sayText("It's a beautiful day at the beach!!")
timer.after(6000, function () {
    Eli.sayText("Wait")
    timer.after(1750, function () {
        Eli.sayText("Where is everyone?")
        timer.after(3500, function () {
            Eli.sayText("And what is that thing in the ocean?")
            timer.after(2500, function () {
                tiles.setCurrentTilemap(tilemap`level0`)
                Eli.sayText("")
                MysteriousEntity.follow(Eli, 150)
            })
        })
    })
})
Transform = 0
game.onUpdate(function () {
    Animation()
})
game.onUpdate(function () {
    if (sprites.allOfKind(SpriteKind.F_Entity).length > 0 && CanShoot == 1) {
        EntityShoot(FamiliarEntity)
    }
})
